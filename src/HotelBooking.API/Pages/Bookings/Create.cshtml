@page
@model HotelBooking.API.Pages.Bookings.CreateModel
@{
    ViewData["Title"] = "Room Booking";
}

<div class="flex  justify-center bg-gray-900 px-4 py-8">
    <div class="bg-gray-800 shadow-xl rounded-2xl p-6 sm:p-8 w-full max-w-lg">
        <h1 class="text-2xl font-semibold text-gray-100 text-center mb-6">
            Room Booking
        </h1>

        @if (TempData["Message"] is string message)
        {
            <div class="p-3 mb-4 rounded text-white bg-red-700">
                @message
            </div>
        }

        <!-- Room Information -->
        <div class="mb-6 border-b border-gray-700 pb-4">
            <h2 class="text-xl font-semibold text-gray-100 mb-1">@Model.RoomName</h2>
            <p class="text-gray-400 text-sm">Hotel: <span class="text-gray-300">@Model.HotelName</span></p>
            <p class="text-gray-400 text-sm">Price: <span class="text-blue-400 font-medium">@Model.Price</span> $ / night</p>
            <p class="text-gray-400 text-sm">Capacity: <span class="text-blue-400 font-medium">@Model.Capacity</span> p</p>
        </div>

        <!-- Booking Form -->
        <form method="post" class="space-y-4">
            <div asp-validation-summary="ModelOnly" class="text-red-500"></div>

            <input type="hidden" asp-for="HotelName" />
            <input type="hidden" asp-for="RoomName" />
            <input type="hidden" asp-for="RoomId" />
            <input type="hidden" asp-for="Price" />
            <input type="hidden" asp-for="Capacity" />

            <div>
                <label class="block text-gray-300 font-medium mb-1">Email</label>
                <input type="email" asp-for=Email required
                       class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2
                              text-gray-100 placeholder-gray-400
                              focus:ring-blue-500 focus:border-blue-500" />
                <span asp-validation-for="Email" class="text-red-500 text-sm"></span>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                    <label class="block text-gray-300 font-medium mb-1">Check-in Date</label>
                    <input type="date" asp-for=CheckIn required
                           class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2
                                  text-gray-100 placeholder-gray-400
                                  focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="CheckIn" class="text-red-500 text-sm"></span>
                </div>
                <div>
                    <label class="block text-gray-300 font-medium mb-1">Check-out Date</label>
                    <input type="date" asp-for=CheckOut required
                           class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2
                                  text-gray-100 placeholder-gray-400
                                  focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="CheckOut" class="text-red-500 text-sm"></span>
                </div>
            </div>

            <button type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 rounded-lg mt-4 transition-colors duration-200">
                Confirm Booking
            </button>
        </form>
    </div>
</div>

<style>
    /* Autofill fix for dark background */
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active {
        -webkit-box-shadow: 0 0 0px 1000px #374151 inset;
        -webkit-text-fill-color: #f9fafb;
        transition: background-color 5000s ease-in-out 0s;
    }
</style>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
